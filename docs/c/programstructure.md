# Структура програма

Структура типичног програма у програмском језику C има следеће елементе:

- директиве препроцесора
- дефиниције и глобалне декларације
- функција `main()`
- дефиниције осталих функција

Сврха препроцесора је да у припремној фази компајлирања програма обради
директиве, односно, наредбе препроцесора. Препроцесор омогућује да се
програмски кôд организује у више датотека и да се дефинишу симболичке
константе. Све директиве препроцесора почиљу карактером `#` и морају се писати
у посебним редовима.

Директива `#include <ime_datoteke.h>` служи за прикључивање предефинисаних
програмских кодова из системских датотека из директоријума `include`. У сваком
програму користиће се директива `#include <stdio.h>` која програму прикључује
програмски код стандардног улаза/излаза *(енгл. standard input output)*. Остале
системске датотеке биће представљене по потреби током наредних лекција.

Директива `#include "ime_datoteke.h"` служи за прикључивање програмских кодова
из других датотека које су написали сами програмери. Ове датотеке треба да се
налазе у истом директоријуму у којем се налази и главни програм.

Директива `#define` служи за дефинисање симболичких константи, односно за
замену макроа симболичким константама. Пише се у два облика:
`#define IME_MAKROA vrednost` или `#define IME_MAKROA (izraz)`. У програму се
може поништити деловање директиве `#define` директивом `#unfdef IME_MAKROA`.

Под спољним декларацијама изнад функције `main()` подразумева се придруживање
имена и додељивање меморије подацима или функцијама (потпрограмима). Под
дефиницијом функција испод функције `main()` подразумева се спецификација
рада функције. Рад са функцијама биће представљен у некој од наредних лекција.

## Функција `main`

Функција која се позива приликом покретања програма зове се `main` и
најједноставније се записује овако:

```c
main()
{

}
```

Функција `main` је целобројног типа `int` и враћа целобројну вредност процесу
оперативног система у којем је програм покренут: ако је програм успешно извршен
враћа `0`, а у супротном, ако је било проблема током извршавања, враћа цео број
различит од нуле. Тај процес је обично командна линија (Command Prompt или
PowerShell у оперативном систему Windows). Због тога се обично у последњој
линији функције `main` налази наредба `return 0;`. Њена улога је да прекине
извршавање програма и процесу оперативног система у којем је програм покренут
врати нулу.

```c
int main()
{
    
    return 0;
}
```

Између карактера `(` и `)` након назива функције наводе се аргументи функције.
Аргументи функције преносе функцији неке вредности. Aко функција `main` нема
аргументе, *правилнији* запис био би овакав:

```c
int main(void)
{

    return 0;
}
```

Ако функција `main` има аргументе (`argc` и `argv`) онда се записује овако:

```c
int main(int argc, char *argv[])
{

    return 0;
}
```

или овако:

```c
int main(int argc, char **argv[])
{

    return 0;
}
```

## Први програм

Једноставан програм у програмском језику C који на стандардни излаз исписује
текст `Hello, World!` изгледао би овако:

```c
--8<-- "docs/c/code/helloworld.c"
```

Преузми: [helloworld.c](code/helloworld.c)

Шта се дешава када се изврши овај програм?

- У припремној фази компајлирања, захваљујући препроцесоркој директиви
`#include <stdio.h>` програму су прикључени програмски кодови стандардног
улаза/излаза, па компајлер *зна* како да протумачи функцију `printf` у функцији
`main`.
- Након тога, почиње извршавање кода у функцији `main`.
- У првој линији функција `printf` исписује текст `Hello, World!` на стандардни
излаз.
- У другој линија наредба `return` прекида извршавање функције `main` и враћа
процесу оперативног система вредност `0`.
