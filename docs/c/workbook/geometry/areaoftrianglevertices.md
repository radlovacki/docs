# Површина троугла датих темена

Извор: [petlja.org](https://petlja.org/biblioteka/r/Zbirka/povrsina_trougla_datih_temena)

Напиши програм који израчунава површину троугла ако су познате координате његових темена.

## Улаз

Са стандардног улаза уноси се 6 реалних бројева (сваки у засебном реду). Прва два представљају \\(x\\) и \\(y\\) координату темена \\(A\\), друга два \\(x\\) и \\(y\\) координату темена \\(B\\) и последња два представљају \\(x\\) и \\(y\\) координату темена \\(C\\).

## Излаз

На стандардни излаз исписати један реалан број који представља површину троугла (допуштена грешка израчунавања је \\( 10^{−5} \\)).

## Пример

Улаз

```text
0
0
0
1
1
0
```

Излаз

```text
0.50000
```

## Понуђено решење

Задатак је математички могуће решити на неколико начина.

### Херонов образац

Један начин је да применимо Херонов образац \\(P = \sqrt{s\cdot(s-a)\cdot(s-b)\cdot(s-c)}\\), где је су \\(a\\), \\(b\\) и \\(c\\) дужине страница троугла, а \\(s = (a+b+c) / 2\\) његов полуобим. Дужине страница можемо израчунати као растојање између темена троугла, применом Питагорине теореме, како је то показано у задатку [Растојање тачака](distanceofpoints.md).

```c
{{#include areaoftrianglevertices0.c}}
```

Преузми: [areaoftrianglevertices0.c](areaoftrianglevertices0.c)

### Векторски производ

Други начин је да применимо чињеницу да је интензитет векторског производа вектора \\(AB\\) и \\(AC\\) једнак површини паралелограма који они образују. Пошто је наш троугао управо половина тог паралелограма његова површина једнака је половини интензитета векторског производа. Координате \\(x\\) и \\(y\\) вектора \\(AB\\) и \\(AC\\) могуће је израчунати одузимањем координата тачке \\(A\\) од тачака \\(B\\) и \\(C\\). Пошто можемо претпоставити да наш троугао лежи у равни \\(xOy\\), координата \\(z\\) ових вектора једнака је \\(0\\). Векторски производ два вектора чије су три координате познате једнак је детерминанти

$$\left|\begin{array}{ccc}\vec{i} & \vec{j} & \vec{k}\\ x_1 & y_1 & z_1 \\ x_2 & y_2 & z_2 \end{array}\right| = (y_1z_2 - z_1y_2, z_1x_2 - x_1z_2, x_1y_2 - y_1x_2)$$

Један начин да се направи имплементација је да се имплементира функција која израчунава векторски производ произвољна два вектора. Међутим, пошто је нама потребно израчунати векторски производ два вектора који леже у \\(xOy\\) равни, тј. два вектора којима су координате \\(z\\) једнаке нули, израчунавање је могуће оптимизовати. Наиме, резултат ће бити вектор нормалан на раван \\(xOy\\) тј. координате \\(x\\) и \\(y\\) ће му бити једнаке нули. Зато ће му интензитет бити једнак апсолутној вредности координате \\(z\\) која је једнака \\(x_1y_2 - y_1x_2\\), при чему су \\((x_1, y_1)\\) координате вектора \\(AB\\), а \\((x_2, y_2)\\) координате вектора \\(AC\\). Дакле, важи да је површина једнака

$$\frac{|(b_x - a_x)(c_y - a_y) - (b_y - a_y)(c_x - a_x)|}{2}$$

тј.

$$\frac{|b_xc_y - a_xc_y - b_xa_y - b_yc_x +a_yc_x +a_xb_y|}{2}$$

```c
{{#include areaoftrianglevertices1.c}}
```

Преузми: [areaoftrianglevertices1.c](areaoftrianglevertices1.c)

Напоменимо да је решење засновано на векторском производу много боље него оно засновано на Хероновом обрасцу, јер користи само основне аритметичке операције (а не и кореновање).

### Разлагање на трапезе

Трећи начин доласка до решења је да се површина троугла искаже као збир, односно разлика површина одређених трапеза. На пример, ако важи распоред \\(a_x < b_x < c_x\\), и ако су \\(A_x\\), \\(B_x\\) и \\(C_x\\) редом пројекције тачака \\(A\\), \\(B\\) и \\(C\\) на \\(x\\)-осу, тада је површина троугла једнака разлици између збира површина правоуглих трапеза \\(AA_xB_xB\\), \\(BB_xC_xC\\) и површине правоуглог трапеза \\(AA_xC_xC\\). Површина трапеза \\(AA_xB_xB\\) једнака је производу између дужине његове средње линије и дужине његове висине. Дужина основице \\(A_xA\\) једнака је апсолутној вредности координате \\(a_y\\), дужина основице \\(B_xB\\) једнака је апсолутној вредности координате \\(b_y\\) док је дужина висине једнака апсолутној вредности разлике координата \\(b_x\\) и \\(a_x\\). Тако да је порвршина тог трапеза једнака \\(\frac{|b_x - a_x|(|a_y| + |b_y|)}{2}\\). На сличан начин могу се извести и формуле за друга два трапеза.

Анализом могућих распореда тачака, може се показати да ће се исправан резултат добити и ако се посматра такозвана означена површина трапеза, која допушта негативне дужине и површине. Означена површина троугла биће једнака збиру означених површина три поменута правоугла трапеза (\\(AA_xB_xB\\), \\(BB_xC_xC\\) и \\(CC_xA_xA\\)), а права површина троугла биће једнака њеној апсолутној вредности. Означене површине ових трапеза добијају се тако што се у претходно изведним формулама за њихову површину занемаре апсолутне вредности и једнаке су \\(\frac{(b_x - a_x)(b_y + a_y)}{2}\\), \\(\frac{(c_x - b_x)(c_y + b_y)}{2}\\) и \\(\frac{(a_x - c_x)(a_y + c_y)}{2}\\), тако да се површина троугла добија формулом

$$\frac{|(b_x - a_x)(b_y + a_y) + (c_x - b_x)(c_y + b_y) + (a_x - c_x)(a_y + c_y)|}{2},$$

тј.

$$\frac{|b_xa_y - a_xb_y + c_xb_y - b_xc_y + a_xc_y - c_xa_y|}{2}$$

Приметимо да се на овај начин добија потпуно иста формула као када се површина рачуна векторским производом и овај поступак заправо представља одређени доказ и објашњење формуле изведене на основу векторског производа.

Слично решење засновано на разлагању се може добити тако што се од правоугаоника описаног око троугла коме су странице паралелне осама одузму три површине правоуглих троуглова.

### Формула пертле

Задатак је могуће решити и општијом формулом пертле која омогућава израчунавање површине произвољних полигона којима се странице не пресецају међусобно. Заиста, ако напишемо координате тачака у следећем облику

$$
\left.
\begin{array}{cc}
a_x & a_y\\
b_x & b_y\\
c_x & c_y\\
a_x & b_y
\end{array}
\right.
$$

Формула се гради тако што се са једним знаком узимају производи одозго-наниже, слева-удесно (то су \\(a_xb_y\\), \\(b_xc_y\\) и \\(c_xb_y\\)), док се са супротним знаком узимају производи одоздо-навише, слева удесно (то су \\(a_xc_y\\), \\(c_xb_y\\), и \\(b_xa_y\\)), што, када се нацрта, заиста подсећа на цик-цак везивање пертли.

$$\frac{|b_xc_y - a_xc_y - b_xa_y - b_yc_x +a_yc_x +a_xb_y|}{2}$$

```c
{{#include areaoftrianglevertices2.c}}
```

Преузми: [areaoftrianglevertices2.c](areaoftrianglevertices2.c)

Ова се формула може извести помоћу векторских производа и детерминанти, али и елементарнијим техникама (сабирањем означених прозвода троуглова или трапеза).
